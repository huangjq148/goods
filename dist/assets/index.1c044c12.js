import{r as c,a9 as V,O as I,o as j,N as q,aa as O,a2 as A,Y as D,B as G,ab as P,ac as U,e as d,f as m,g as l,a3 as w,i as f,j as x,a5 as Z,n as r,t as h}from"./index.29382301.js";import{q as $,d as z}from"./contact.0f7f5027.js";const F=(_,g)=>{const n=_.__vccOpts||_;for(const[i,a]of g)n[i]=a;return n},M={key:1,class:"van-address-list address-list"},R={class:"van-address-item address-wrapper"},T={class:"info-wrapper"},Y={class:"van-address-item__name"},H={class:"van-address-item__address"},J=["onClick"],K={name:"ContactList"},Q=Object.assign(K,{setup(_){const n=c(""),i=V(),a=c([]),u=c(!1),p=c(!1),y=c(1);I(n,()=>{a.value=[],v({name:n.value})});const C=async t=>{await z(t),a.value=a.value.filter(s=>s.id!=t)},b=t=>{i.push(`/contact/create?id=${t}`)},v=async t=>{let s=y.value++;t?(s=1,y.value=1):t={};const{content:o}=await $({current:s++,pageSize:15,...t});o?(a.value=a.value.concat(o),u.value=!1,(o==null?void 0:o.length)<10&&(p.value=!0)):p.value=!0};return j(()=>{v()}),(t,s)=>{const o=q,B=O,E=A,S=D,k=G,L=P,N=U;return d(),m(x,null,[l(o,{title:"\u5168\u90E8\u8054\u7CFB\u4EBA"}),l(B,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=e=>n.value=e),placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD"},null,8,["modelValue"]),a.value.length?(d(),m("div",M,[l(N,{loading:u.value,"onUpdate:loading":s[1]||(s[1]=e=>u.value=e),finished:p.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:v},{default:f(()=>[(d(!0),m(x,null,Z(a.value,(e,W)=>(d(),w(L,{key:e},{right:f(()=>[l(k,{onClick:()=>C(e.id),square:"",type:"danger",text:"\u5220\u9664"},null,8,["onClick"])]),default:f(()=>[r("div",R,[r("div",T,[r("div",Y,h(e.name)+" "+h(e.phone),1),r("div",H,h(e.address),1)]),r("div",{class:"edit-warpper",onClick:()=>b(e.id)},[l(S,{name:"edit"})],8,J)])]),_:2},1024))),128))]),_:1},8,["loading","finished"])])):(d(),w(E,{key:0,description:"\u6CA1\u6709\u6570\u636E"})),l(k,{to:"/contact/create",class:"add-button",icon:"plus",type:"primary"})],64)}}}),ae=F(Q,[["__scopeId","data-v-8779b554"]]);export{ae as default};
