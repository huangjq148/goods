import{a9 as H,aa as X,ab as G,M as E,c as L,n as K,v as Z,q as T,d as z,r as g,ac as J,f as U,x as C,z as Q,s as Y,ad as ee,w as W,k as q,l as f,ae as te,G as P,N as ne,A as M,af as oe,j as ae,ag as F,ah as A,ai as N,aj as D,O as se,i as le,D as re,U as ie,X as ce,ak as ue,al as de,am as fe,an as ve,_ as S,$ as B,a1 as V,a0 as R,ao as pe,ap as me,a6 as o,a2 as j,aq as he,ar as be,a5 as b,as as ge,at as xe}from"./index.0868de6e.js";function we(n,m){if(!H||!window.IntersectionObserver)return;const d=new IntersectionObserver(e=>{m(e[0].intersectionRatio>0)},{root:document.body}),r=()=>{n.value&&d.observe(n.value)},c=()=>{n.value&&d.unobserve(n.value)};X(c),G(c),E(r)}const[_e,ye]=L("sticky"),ke={zIndex:K,position:Z("top"),container:Object,offsetTop:T(0),offsetBottom:T(0)};var Se=z({name:_e,props:ke,emits:["scroll","change"],setup(n,{emit:m,slots:d}){const r=g(),c=J(r),e=U({fixed:!1,width:0,height:0,transform:0}),v=C(()=>Q(n.position==="top"?n.offsetTop:n.offsetBottom)),x=C(()=>{const{fixed:a,height:p,width:s}=e;if(a)return{width:`${s}px`,height:`${p}px`}}),i=C(()=>{if(!e.fixed)return;const a=Y(ee(n.zIndex),{width:`${e.width}px`,height:`${e.height}px`,[n.position]:`${v.value}px`});return e.transform&&(a.transform=`translate3d(0, ${e.transform}px, 0)`),a}),w=a=>m("scroll",{scrollTop:a,isFixed:e.fixed}),_=()=>{if(!r.value||te(r))return;const{container:a,position:p}=n,s=P(r),k=ne(window);if(e.width=s.width,e.height=s.height,p==="top")if(a){const u=P(a),l=u.bottom-v.value-e.height;e.fixed=v.value>s.top&&u.bottom>0,e.transform=l<0?l:0}else e.fixed=v.value>s.top;else{const{clientHeight:u}=document.documentElement;if(a){const l=P(a),h=u-l.top-v.value-e.height;e.fixed=u-v.value<s.bottom&&u>l.top,e.transform=h<0?-h:0}else e.fixed=u-v.value<s.bottom}w(k)};return W(()=>e.fixed,a=>m("change",a)),q("scroll",_,{target:c,passive:!0}),we(r,_),()=>{var a;return f("div",{ref:r,style:x.value},[f("div",{class:ye({fixed:e.fixed}),style:i.value},[(a=d.default)==null?void 0:a.call(d)])])}}});const Re=M(Se),[Ie,I]=L("notice-bar"),Pe={text:String,mode:String,color:String,delay:T(1),speed:T(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var Oe=z({name:Ie,props:Pe,emits:["close","replay"],setup(n,{emit:m,slots:d}){let r=0,c=0,e;const v=g(),x=g(),i=U({show:!0,offset:0,duration:0}),w=()=>{if(d["left-icon"])return d["left-icon"]();if(n.leftIcon)return f(N,{class:I("left-icon"),name:n.leftIcon},null)},_=()=>{if(n.mode==="closeable")return"cross";if(n.mode==="link")return"arrow"},a=l=>{n.mode==="closeable"&&(i.show=!1,m("close",l))},p=()=>{if(d["right-icon"])return d["right-icon"]();const l=_();if(l)return f(N,{name:l,class:I("right-icon"),onClick:a},null)},s=()=>{i.offset=r,i.duration=0,se(()=>{D(()=>{i.offset=-c,i.duration=(c+r)/+n.speed,m("replay")})})},k=()=>{const l=n.scrollable===!1&&!n.wrapable,h={transform:i.offset?`translateX(${i.offset}px)`:"",transitionDuration:`${i.duration}s`};return f("div",{ref:v,role:"marquee",class:I("wrap")},[f("div",{ref:x,style:h,class:[I("content"),{"van-ellipsis":l}],onTransitionend:s},[d.default?d.default():n.text])])},u=()=>{const{delay:l,speed:h,scrollable:y}=n,$=le(l)?+l*1e3:0;r=0,c=0,i.offset=0,i.duration=0,clearTimeout(e),e=setTimeout(()=>{if(!v.value||!x.value||y===!1)return;const O=P(v).width,t=P(x).width;(y||t>O)&&D(()=>{r=O,c=t,i.offset=-c,i.duration=c/+h})},$)};return oe(u),E(u),q("pageshow",u),ae({reset:u}),W(()=>[n.text,n.scrollable],u),()=>{const{color:l,wrapable:h,background:y}=n;return F(f("div",{role:"alert",class:I({wrapable:h}),style:{color:l,background:y}},[w(),k(),p()]),[[A,i.show]])}}});const Be=M(Oe);const Ce={class:"overview-table",border:"1px","border-spacing":"0"},Te=o("thead",null,[o("tr",null,[o("td",null,"\u8BA2\u5355\u53F7"),o("td",null,"\u65E5\u671F"),o("td",null,"\u4EA7\u54C1"),o("td",null,"\u91CD\u91CF"),o("td",null,"\u6536\u8D27\u4EBA"),o("td",null,"\u5355\u4EF7"),o("td",null,"\u5B9E\u6536"),o("td",null,"\u8FDB\u4EF7"),o("td",null,"\u8FDB\u4EF7\u603B\u989D"),o("td",null,"\u6BDB\u5229\u6DA6")])],-1),$e={name:"OrderCreate"},De=Object.assign($e,{setup(n){const[m,d]=re(),r=g(""),c=g("goodsName"),e=g(""),v=g(ie("orders")),x=g(ge),i=g(xe),w=C(()=>v.value.filter(p=>p[c.value].indexOf(r.value)>-1).filter(p=>e.value?p.status===e.value:!0)),_=()=>{history.back()},a=()=>{d()};return(p,s)=>{const k=ce,u=Be,l=ue,h=de,y=fe,$=Re,O=ve;return S(),B(j,null,[f($,{"offset-top":"0"},{default:V(()=>[f(k,{title:"\u5168\u90E8\u8BA2\u5355\u6C47\u603B","left-text":"\u8FD4\u56DE","left-arrow":"",onClickLeft:_,"right-text":R(m)?"\u9690\u85CF\u6761\u4EF6":"\u663E\u793A\u6761\u4EF6",onClickRight:a},null,8,["right-text"]),f(u,{class:"tips","left-icon":"volume-o",text:"\u5EFA\u8BAE\u4F7F\u7528\u6A2A\u5C4F\u67E5\u770B"}),F(o("div",null,[f(l,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=t=>r.value=t),placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD","show-action":""},{action:V(()=>[o("div",{onClick:s[0]||(s[0]=(...t)=>p.jumpToOverview&&p.jumpToOverview(...t))},"\u6C47\u603B")]),_:1},8,["modelValue"]),f(y,null,{default:V(()=>[f(h,{modelValue:c.value,"onUpdate:modelValue":s[2]||(s[2]=t=>c.value=t),options:x.value},null,8,["modelValue","options"]),f(h,{modelValue:e.value,"onUpdate:modelValue":s[3]||(s[3]=t=>e.value=t),options:i.value},null,8,["modelValue","options"])]),_:1})],512),[[A,R(m)]])]),_:1}),R(w).length?(S(),B("div",{key:1,class:"tableWrapper",style:me({height:R(m)?"calc(100vh - 54px - 50px - 54px - 50px)":"calc(100vh - 54px - 50px)"})},[o("table",Ce,[Te,o("tbody",null,[(S(!0),B(j,null,he(R(w),(t,Ve)=>(S(),B("tr",{key:t.id,class:be({completed:t.status==="completed"})},[o("td",null,b(t.id),1),o("td",null,b(t.date),1),o("td",null,b(t.goodsName),1),o("td",null,b(t.number),1),o("td",null,b(t.person),1),o("td",null,b(t.sellPrice),1),o("td",null,b(t.sellPrice*t.number),1),o("td",null,b(t.buyPrice),1),o("td",null,b(t.buyPrice*t.number),1),o("td",null,b(t.sellPrice*t.number-t.buyPrice*t.number),1)],2))),128))])])],4)):(S(),pe(O,{key:0,description:"\u6CA1\u6709\u6570\u636E"}))],64)}}});export{De as default};
